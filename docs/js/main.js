"use strict";var accordion=function(){document.querySelectorAll(".accordion").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget,a=t.querySelector(".accordion__trigger"),o=t.querySelector(".accordion__content");t.classList.contains("accordion")&&t.classList.toggle("accordion--active"),t.classList.contains("accordion--active")?(a.setAttribute("aria-expanded",!0),o.setAttribute("aria-hidden",!1),o.style.maxHeight=o.scrollHeight+"px"):(a.setAttribute("aria-expanded",!1),o.setAttribute("aria-hidden",!0),o.style.maxHeight=null)}))}))};accordion();var burger=function(){var e=document.querySelector(".burger"),t=document.querySelector(".header-bottom"),a=document.querySelectorAll(".header__submenu-link"),o=document.querySelector(".header-top__left-icons"),r=document.querySelector(".header-top__right-icons");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("header-bottom--active"),o.classList.toggle("header-top__left-icons--hidden"),r.classList.toggle("header-top__right-icons--hidden"),o.classList.toggle("header-top__left-icons--visible"),t.classList.contains("header-bottom--active")?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Закрыть меню"),document.body.classList.add("stop-scroll")):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),document.body.classList.remove("stop-scroll"))})),document.addEventListener("click",(function(a){var c=a.target,s=c==t||t.contains(c),i=c==e||e.contains(c);s||i||!t.classList.contains("header-bottom--active")||(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header-bottom--active"),o.classList.remove("header-top__left-icons--hidden"),r.classList.remove("header-top__right-icons--hidden"),o.classList.remove("header-top__left-icons--visible"),document.body.classList.remove("stop-scroll"))})),a.forEach((function(a){a.addEventListener("click",(function(){e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header-bottom--active"),o.classList.remove("header-top__left-icons--hidden"),r.classList.remove("header-top__right-icons--hidden"),o.classList.remove("header-top__left-icons--visible"),document.body.classList.remove("stop-scroll")}))}))};burger();var menu=function(){var e,t;document.querySelectorAll(".menu-btn-js").forEach((function(a){a.addEventListener("click",(function(a){e=a.target.closest(".header__nav-item"),t=e.querySelectorAll(".header__submenu-link"),document.querySelectorAll(".header__nav-item").forEach((function(t){t!==e&&t.classList.contains("header__nav-item--active")&&t.classList.remove("header__nav-item--active")})),e.classList.toggle("header__nav-item--active"),t.forEach((function(t){t.addEventListener("click",(function(){e.classList.remove("header__nav-item--active")}))})),document.addEventListener("click",(function(t){var a=t.target;!(a==e||e.contains(a))&&e.classList.contains("header__nav-item--active")&&e.classList.remove("header__nav-item--active")}))}))}))};menu();var modal=function(){var e=Array.from(document.querySelectorAll("[data-modal]")),t=Array.from(document.querySelectorAll(".modal")),a=document.querySelectorAll(".modal__form-input"),o=document.body;function r(e){t.forEach((function(e){e.classList.contains("modal--open")&&e.classList.remove("modal--open")}));var a=e.target.dataset.modal||e.target.closest("[data-modal]").dataset.modal,r=document.getElementById("".concat(a)),c=r.querySelector(".modal__close-btn");r.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),c.classList.remove("modal__close-btn--active"),r.classList.add("modal--open"),o.classList.add("stop-scroll")}function c(e){var t,r=e.target,c=r.closest(".modal"),s=c.querySelector(".modal__body"),i=c.querySelector(".modal__close-btn"),n=c.querySelector(".btn-js"),d=r==s||s.contains(r),l=r==i||i.contains(r);n&&(t=r==n||n.contains(r)),(l&&c.classList.contains("modal--open")||!d&&c.classList.contains("modal--open")||t&&c.classList.contains("modal--open"))&&(i.classList.add("modal__close-btn--active"),c.classList.remove("modal--open"),o.classList.remove("stop-scroll"),a.forEach((function(e){e.value=""})))}e.forEach((function(e){e.addEventListener("click",r)})),t.forEach((function(e){e.addEventListener("click",c)}))};modal();var order=function(){var e=document.querySelector(".cart__order-btn"),t=document.querySelector(".order");t&&e.addEventListener("click",(function(){t.classList.add("order--active")}))};order();var search=function(){var e=document.querySelector(".header-top__btn--search"),t=document.querySelector(".header-top__search-form"),a=document.querySelector(".header-top__search-form-icon"),o=document.querySelector(".header-top__search-form-btn"),r=document.querySelector(".header-top__search-form-input");e.addEventListener("click",(function(){t.classList.add("header-top__search-form--active")})),o.addEventListener("click",(function(){t.classList.remove("header-top__search-form--active"),r.value=""})),a.addEventListener("click",(function(){t.classList.remove("header-top__search-form--active"),r.value=""}))};search(),new Swiper(".hero__swiper",{navigation:{nextEl:".hero__swiper-button-next",prevEl:".hero__swiper-button-prev"},keyboard:!0}),new Swiper(".new-products__swiper",{spaceBetween:20,slidesPerView:"auto",keyboard:!0}),new Swiper(".hits__swiper",{spaceBetween:20,slidesPerView:"auto",keyboard:!0}),new Swiper(".offers__swiper",{spaceBetween:20,keyboard:!0,breakpoints:{320:{slidesPerView:"auto"},1231:{slidesPerView:4}}});var video=function(){var e=document.querySelector(".video__play-btn");e&&e.addEventListener("click",(function(){var t=e.closest(".video__container"),a=t.querySelector(".video__bg"),o=t.querySelector(".video__content"),r=o.dataset.src;e.classList.add("video__play-btn--hidden"),a.remove(),o.insertAdjacentHTML("afterbegin",'<iframe class="video__iframe" src="'+r+'" frameborder="0" allow="autoplay;" allowfullscreen></iframe>')}))};video();var ymaps=window.ymaps,init=function(){var e=new ymaps.Map("map",{center:[59.94349356415401,30.42990049999999],zoom:16,controls:[]});document.querySelector(".ymaps-2-1-79-map-copyrights-promo").style.display="none",document.querySelector(".ymaps-2-1-79-copyright__content").style.display="none";var t=new ymaps.Placemark([59.94349356415401,30.42990049999999],{},{iconLayout:"default#image",iconImageHref:"./images/svg/marker.svg",iconImageSize:[112,138],iconImageOffset:[-56,-138]}),a=window.matchMedia("(max-width: 758px)");function o(e){e?(t.options.set("iconImageSize",[74,91]),t.options.set("iconImageOffset",[-37,-91])):(t.options.set("iconImageSize",[112,138]),t.options.set("iconImageOffset",[-56,-138]))}o(a.matches),a.addEventListener("change",(function(e){o(e.matches)})),e.geoObjects.add(t)};ymaps&&ymaps.ready(init);