"use strict";var accordion=function(){document.querySelectorAll(".accordion").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget,a=t.querySelector(".accordion__trigger"),r=t.querySelector(".accordion__content");t.classList.contains("accordion")&&t.classList.toggle("accordion--active"),t.classList.contains("accordion--active")?(a.setAttribute("aria-expanded",!0),a.setAttribute("aria-label","Закрыть"),r.setAttribute("aria-hidden",!1),r.style.maxHeight=r.scrollHeight+"px"):(a.setAttribute("aria-expanded",!1),a.setAttribute("aria-label","Открыть"),r.setAttribute("aria-hidden",!0),r.style.maxHeight=null)}))}))};accordion();var burger=function(){var e=document.querySelector(".burger"),t=document.querySelector(".header-bottom"),a=document.querySelectorAll(".header__submenu-link"),r=document.querySelector(".header-top__left-icons"),o=document.querySelector(".header-top__right-icons");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("header-bottom--active"),r.classList.toggle("header-top__left-icons--hidden"),o.classList.toggle("header-top__right-icons--hidden"),r.classList.toggle("header-top__left-icons--visible"),t.classList.contains("header-bottom--active")?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Закрыть меню"),document.body.classList.add("stop-scroll")):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),document.body.classList.remove("stop-scroll"))})),document.addEventListener("click",(function(a){var i=a.target,s=i==t||t.contains(i),c=i==e||e.contains(i);s||c||!t.classList.contains("header-bottom--active")||(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header-bottom--active"),r.classList.remove("header-top__left-icons--hidden"),o.classList.remove("header-top__right-icons--hidden"),r.classList.remove("header-top__left-icons--visible"),document.body.classList.remove("stop-scroll"))})),a.forEach((function(a){a.addEventListener("click",(function(){e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header-bottom--active"),r.classList.remove("header-top__left-icons--hidden"),o.classList.remove("header-top__right-icons--hidden"),r.classList.remove("header-top__left-icons--visible"),document.body.classList.remove("stop-scroll")}))}))};burger();var menu=function(){var e,t;document.querySelectorAll(".menu-btn-js").forEach((function(a){a.addEventListener("click",(function(a){e=a.target.closest(".header__nav-item"),t=e.querySelectorAll(".header__submenu-link"),document.querySelectorAll(".header__nav-item").forEach((function(t){t!==e&&t.classList.contains("header__nav-item--active")&&t.classList.remove("header__nav-item--active")})),e.classList.toggle("header__nav-item--active"),t.forEach((function(t){t.addEventListener("click",(function(){e.classList.remove("header__nav-item--active")}))})),document.addEventListener("click",(function(t){var a=t.target;!(a==e||e.contains(a))&&e.classList.contains("header__nav-item--active")&&e.classList.remove("header__nav-item--active")}))}))}))};menu();var mySwiper,slider=document.querySelector(".mobile-swiper"),mediaQuery=window.matchMedia("(max-width: 758px)");function mobileSlider(e){e&&"false"==slider.dataset.mobile?(mySwiper=new Swiper(slider,{slidesPerView:"auto",keyboard:!0,spaceBetween:12}),slider.dataset.mobile="true"):(slider.dataset.mobile="false",slider.classList.contains("swiper-initialized")&&mySwiper.destroy())}slider&&(mobileSlider(mediaQuery.matches),mediaQuery.addEventListener("change",(function(e){mobileSlider(e.matches)})));var modal=function(){var e=Array.from(document.querySelectorAll("[data-modal]")),t=Array.from(document.querySelectorAll(".modal")),a=document.querySelectorAll(".modal__form-input"),r=document.body;function o(e){t.forEach((function(e){e.classList.contains("modal--open")&&e.classList.remove("modal--open")}));var a=e.target.dataset.modal||e.target.closest("[data-modal]").dataset.modal,o=document.getElementById("".concat(a)),i=o.querySelector(".modal__close-btn");o.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),i.classList.remove("modal__close-btn--active"),o.classList.add("modal--open"),r.classList.add("stop-scroll")}function i(e){var t,o=e.target,i=o.closest(".modal"),s=i.querySelector(".modal__body"),c=i.querySelector(".modal__close-btn"),n=i.querySelector(".btn-js"),d=o==s||s.contains(o),l=o==c||c.contains(o);n&&(t=o==n||n.contains(o)),(l&&i.classList.contains("modal--open")||!d&&i.classList.contains("modal--open")||t&&i.classList.contains("modal--open"))&&(c.classList.add("modal__close-btn--active"),i.classList.remove("modal--open"),r.classList.remove("stop-scroll"),a.forEach((function(e){e.value=""})))}e.forEach((function(e){e.addEventListener("click",o)})),t.forEach((function(e){e.addEventListener("click",i)}))};modal();var order=function(){var e=document.querySelector(".cart__order-btn"),t=document.querySelector(".order");t&&e.addEventListener("click",(function(){t.classList.add("order--active")}))};order();var search=function(){var e=document.querySelector(".header-top__btn--search"),t=document.querySelector(".header-top__search-form"),a=document.querySelector(".header-top__search-form-icon"),r=document.querySelector(".header-top__search-form-btn"),o=document.querySelector(".header-top__search-form-input");e.addEventListener("click",(function(){t.classList.add("header-top__search-form--active")})),r.addEventListener("click",(function(){t.classList.remove("header-top__search-form--active"),o.value=""})),a.addEventListener("click",(function(){t.classList.remove("header-top__search-form--active"),o.value=""}))};search(),new Swiper(".hero__swiper",{navigation:{nextEl:".hero__swiper-button-next",prevEl:".hero__swiper-button-prev"},keyboard:!0}),new Swiper(".new-products__swiper",{spaceBetween:20,slidesPerView:"auto",keyboard:!0}),new Swiper(".hits__swiper",{spaceBetween:20,slidesPerView:"auto",keyboard:!0}),new Swiper(".offers__swiper",{spaceBetween:20,keyboard:!0,breakpoints:{320:{slidesPerView:"auto"},1231:{slidesPerView:4}}});var productCardSwiper=new Swiper(".product-card__swiper-gallery",{spaceBetween:8,slidesPerView:"auto",navigation:{nextEl:".product-card__swiper-button-next",prevEl:".product-card__swiper-button-prev"}});new Swiper(".product-card__swiper",{spaceBetween:0,thumbs:{swiper:productCardSwiper}}),new Swiper(".reviews__swiper",{spaceBetween:20,slidesPerView:"auto",keyboard:!0});var video=function(){var e=document.querySelector(".video__play-btn");e&&e.addEventListener("click",(function(){var t=e.closest(".video__container"),a=t.querySelector(".video__bg"),r=t.querySelector(".video__content"),o=r.dataset.src;e.classList.add("video__play-btn--hidden"),a.remove(),r.insertAdjacentHTML("afterbegin",'<iframe class="video__iframe" src="'+o+'" frameborder="0" allow="autoplay;" allowfullscreen></iframe>')}))};video();var ymaps=window.ymaps,init=function(){var e=new ymaps.Map("map",{center:[59.94349356415401,30.42990049999999],zoom:16,controls:[]});document.querySelector(".ymaps-2-1-79-map-copyrights-promo").style.display="none",document.querySelector(".ymaps-2-1-79-copyright__content").style.display="none";var t=new ymaps.Placemark([59.94349356415401,30.42990049999999],{},{iconLayout:"default#image",iconImageHref:"./images/svg/marker.svg",iconImageSize:[112,138],iconImageOffset:[-56,-138]}),a=window.matchMedia("(max-width: 758px)");function r(e){e?(t.options.set("iconImageSize",[74,91]),t.options.set("iconImageOffset",[-37,-91])):(t.options.set("iconImageSize",[112,138]),t.options.set("iconImageOffset",[-56,-138]))}r(a.matches),a.addEventListener("change",(function(e){r(e.matches)})),e.geoObjects.add(t)};ymaps&&ymaps.ready(init);